---
title: "初步设计思路"
output: html_notebook
---

# 1  加密
目的是换台电脑或数据就不能使用程序，
开始部署程序时，先手动调用程序块，生成验证文件，
之后每次运行检测是否与文件中的一致，
如果不一致或删除验证文件，就无法使用程序
## 1.1  验证方法
先在元数据配置中写好数据文件列表，
用本机的mac地址为随机数种子，生成一定量的正整数，
提取每个数据文件中的这些正整数行，每行内容相连接，
计算SHA1散列码

## 1.2  生成验证文件方法
部署人员要记住生成验证文件的函数名，和部署密码，
在Scala终端中手动调用函数，生成验证文件


## 1.3  每次验证方法
程序启动时调用验证方法，生成SHA1散列码，
与验证文件中的进行对照，如果相同就通过

# 2  初始计算
##  2.1  补充子表中的码
原始数据文件中，子表与主表的连接通过RECID，
因此子表中没有直接的地区信息，必须通过主表连接后才能按地区汇总，
将target_code，和行政区划代码直接写在子表中，就不再需要的多余的连接。

##  2.2  补充属性
HDG，子表、续表等 

##  2.2  更改变量名
原数据中，子表与续表，HDG三种表中，相同的变量用不同名称，
无法直接连接处理，改为相同的变量名

##  2.3  各类表相连接
设置完成后，HDG三种表相同的内容相连接，
这样汇总时就能一次汇总出HDG各自的内容和合计

##  2.4  生成分组
把预设的分组都分别造成文件，以后可以直接读取调用

#  3  数据汇总
把分组与相应的数据相连接，逐级汇总数据，
再切换下一种汇总方法继续

#  4  数据输出
## 4.1  按块切割


##  4.2  计算百分比
##  4.2  赋予表属性
标题，列明，行名，计量单位

##  4.3  按目录保存




